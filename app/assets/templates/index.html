<div class="site-container" ng-controller="LocationController as Location">
  
  <!-- WELCOME DIV -->
  <div class="welcome">
    <h1>LOCALE</h1>
    
    <!-- INPUT FORM -->
    <form name="locationForm" ng-submit="returnStats(newLocation)">
      <label><p>Please Enter a valid London Address</p></label>
      <label><p><i>(e.g. 413 Oxford Street, W1C2PF)</i></p></label>
      <input type="text" ng-model="newLocation">
      <button>SUBMIT</button>
    </form>
  </div>

  <!-- RESULTS -->
  <div class="results" ng-if="coordinates" ng-controller="TabController as Tab">
    
    <!-- TAB LINKS -->
    <ul class="nav nav-pills">
      <li ng-class="{ active:Tab.isSet(1) }">
       <a href ng-click="Tab.setTab(1)">Map</a>
      </li>
      <li ng-class="{ active:Tab.isSet(2) }">
       <a href ng-click="Tab.setTab(2)">Crimes</a>
      </li>
      <li ng-class="{ active:Tab.isSet(3) }">
        <a href ng-click="Tab.setTab(3)">Closest Stations</a>
      </li>
      <li ng-class="{ active:Tab.isSet(4) }">
        <a href ng-click="Tab.setTab(4)">Property Prices</a>
      </li>
    </ul>

    <!-- CONTENT PER TAB -->
    <map ng-show="Tab.isSet(1)" 
    zoom="14" 
    center="{{coordinates.latitude}}, {{coordinates.longitude}}" 
    styles="{{mapStyle}}">
      <transit-layer></transit-layer>
      <fusion-tables-layer query="{
        select: 'Geocodable address',
        from: '1mZ53Z70NsChnBMm-qEYmSDOvLXgrreLTkQUvvg'}">
      </fusion-tables-layer>
      <marker ng-if="coordinates"
      position="{{coordinates.latitude}}, {{coordinates.longitude}}">
      </marker>
    </map>
    <crimes ng-show="Tab.isSet(2)"></crimes>
    <stations ng-show="Tab.isSet(3)"></stations>
    <property-prices ng-show="Tab.isSet(4)"></property-prices>

  </div>
  
</div>

