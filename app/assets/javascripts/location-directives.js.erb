app.directive('crimes',function(){
  return{
    restrict:'E',
    templateUrl: "<%= asset_path('crime-graph.html') %>"
  }
})

app.directive('stations',function(){
  return{
    restrict:'E',
    templateUrl: "<%= asset_path('closest-stations.html') %>"
  }
})

app.directive('propertyPrices',function(){
  return{
    restrict:'E',
    templateUrl: "<%= asset_path('property-prices.html') %>"
  }
})

app.directive('competitors',function(){
  return{
    restrict:'E',
    templateUrl: "<%= asset_path('competitors.html') %>"
  }
})

angular.module('directive.loading', [])
.directive('loading',['$http',function($http){
    return {
      restrict: 'E',
      link: function (scope, elm, attrs){
        scope.isLoading = function () {
            return $http.pendingRequests.length > 0;
        };
        scope.$watch(scope.isLoading, function (v){
          if(v){
            elm.show();
          }else{
            elm.hide();
          }
        });
      },
      templateUrl: "<%= asset_path('loading.html') %>"
    };
}]);

